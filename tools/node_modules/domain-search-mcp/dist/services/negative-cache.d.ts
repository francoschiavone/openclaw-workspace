/**
 * Federated Negative Cache Client.
 *
 * Reports taken domains to a central backend and queries known-taken domains
 * for pre-filtering suggestions. This reduces redundant availability checks
 * by leveraging community-reported data.
 *
 * Features:
 * - Async batch reporting (non-blocking)
 * - Local query caching
 * - Expiring domain queries
 * - Graceful degradation when backend unavailable
 */
import type { DataSource } from '../types.js';
/**
 * Domain info to report as taken.
 */
export interface TakenDomainReport {
    fqdn: string;
    expires_at?: string;
    registered_at?: string;
    source: DataSource;
}
/**
 * Response from query endpoint.
 */
export interface NegativeCacheQueryResult {
    /** Set of FQDNs that are known to be taken */
    taken: Set<string>;
    /** FQDNs not found in cache (unknown status) */
    unknown: string[];
    /** Cache hit rate for this query */
    hitRate: number;
}
/**
 * Expiring domain info.
 */
export interface ExpiringDomain {
    fqdn: string;
    expires_at: string;
    days_until_expiration: number;
}
/**
 * Response from expiring endpoint.
 */
export interface ExpiringDomainsResult {
    domains: ExpiringDomain[];
    total: number;
}
/**
 * Report domains as taken (async, non-blocking).
 *
 * Batches reports and sends them periodically to reduce API calls.
 * This is fire-and-forget - errors are logged but not thrown.
 */
export declare function reportTakenDomains(domains: TakenDomainReport[]): void;
/**
 * Query the negative cache for known-taken domains.
 *
 * Returns a Set of FQDNs that are known to be taken.
 * Unknown domains should still be checked via normal availability APIs.
 */
export declare function queryTakenDomains(fqdns: string[]): Promise<NegativeCacheQueryResult>;
/**
 * Check if a single domain is known to be taken.
 *
 * Fast path that only checks local cache.
 * Returns undefined if unknown (should check normally).
 */
export declare function isKnownTaken(fqdn: string): boolean | undefined;
/**
 * Get domains that are about to expire.
 */
export declare function getExpiringDomains(options?: {
    tlds?: string[];
    days?: number;
    limit?: number;
    keywords?: string;
}): Promise<ExpiringDomainsResult>;
/**
 * Get local cache stats.
 */
export declare function getCacheStats(): {
    size: number;
    hitRate: number;
};
/**
 * Clear local cache (for testing).
 */
export declare function clearLocalCache(): void;
//# sourceMappingURL=negative-cache.d.ts.map