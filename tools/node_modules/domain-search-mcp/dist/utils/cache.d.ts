/**
 * TTL-based In-Memory Cache.
 *
 * Simple but effective caching for domain availability and pricing.
 * Reduces API calls and improves response times.
 */
/**
 * Generic TTL cache with automatic expiration and size limits.
 *
 * SECURITY: Implements max size to prevent memory DoS attacks.
 * When at capacity, evicts least-recently-used (LRU) entries.
 */
export declare class TtlCache<T> {
    private cache;
    private readonly defaultTtlMs;
    private readonly maxSize;
    private cleanupInterval;
    constructor(defaultTtlSeconds?: number, maxSize?: number);
    /**
     * Get a value from cache if it exists and hasn't expired.
     * Moves entry to end of Map for O(1) LRU tracking via insertion order.
     */
    get(key: string): T | undefined;
    /**
     * Set a value in cache with optional custom TTL.
     * Implements LRU eviction when cache is at capacity.
     */
    set(key: string, value: T, ttlMs?: number): void;
    /**
     * Evict least recently used entry.
     * O(1) operation: Uses Map insertion order - first entry is oldest.
     */
    private evictLRU;
    /**
     * Check if a key exists and is not expired.
     */
    has(key: string): boolean;
    /**
     * Delete a specific key.
     */
    delete(key: string): boolean;
    /**
     * Clear all cache entries.
     */
    clear(): void;
    /**
     * Get the number of entries in cache.
     */
    get size(): number;
    /**
     * Remove expired entries.
     */
    private cleanup;
    /**
     * Stop the cleanup interval (for testing/shutdown).
     */
    destroy(): void;
}
import type { DomainResult, TLDInfo } from '../types.js';
/**
 * Generate a cache key for domain availability.
 */
export declare function domainCacheKey(domain: string, source: string): string;
/**
 * Generate a cache key for TLD info.
 */
export declare function tldCacheKey(tld: string): string;
/**
 * Global cache instances.
 */
export declare const domainCache: TtlCache<DomainResult>;
export declare const pricingCache: TtlCache<DomainResult[]>;
export declare const tldCache: TtlCache<TLDInfo>;
/**
 * Get or compute a domain result.
 */
export declare function getOrCompute<T>(cache: TtlCache<T>, key: string, compute: () => Promise<T>, ttlMs?: number): Promise<{
    value: T;
    fromCache: boolean;
}>;
//# sourceMappingURL=cache.d.ts.map